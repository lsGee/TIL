# R 기초 문법 (1) 자료형, 벡터

## 1. R의 자료형

* 문자형(character)
* 수치형(numeric): 정수(integer), 실수(double)
* 복소수형(complex): 실수+허수
* 논리형(logical)



### 자동 형 변환 규칙

문자형 > 복소수형 > 수치형 > 논리형

→ 직접 지정해주고 싶을 땐, **강제 형 변환 함수** 사용 (ex. `as.character(x)`)



### (?) R에서의 `.`

R에서 `.` 은 멤버연산자가 아니다. 식별자를 만들 때 사용하는 일반 문자열이다. 

예를 들어, `is.character(x)` 함수에서 'is.character' 자체가 함수명이다!



### R의 리터럴 예

> 리터럴을 '상수'라고도 한다.

* 문자형 리터럴  ex. "가나다"
* 수치형 리터럴  ex. 100, 3.14, 0 
* 논리형 리터럴  ex. TRUE, FALSE
* NULL:  데이터셋이 비어있음, 객체가 없음
* NA: 데이터셋 내 존재하지 않는 값(결측치)
  * 실제 분석 시 어떻게 처리할 것인지가 중요!
* NaN
* Inf: 무한대값



---



## 2. 데이터셋

1. **벡터(Vector)**

   * **동일한 타입**의 데이터로 묶여 있음

     (자료형이 서로 다를 땐, **자동 형 변환 규칙**에 따라 일부 데이터 자료형이 바뀜)

   * 1차원

   * 단일 데이터 값도 벡터

   * **팩터(Factor)**: 범주형(Categorical) 데이터가 저장된 특수한 벡터

   * 생성 방법: `c()`,  `seq()`,  `rep()`,  `:` 연산자

2. **행렬(Matrix)** 

   * 일반적으로 2차원
   * **동일한 타입**의 데이터로 묶여 있음

3. **배열(Array)** 

   * 일반적으로 여러 개 행렬로 이뤄진 3차원 이상
   * 딥러닝에서 주로 사용됨

4. **데이터프레임** :

   * 열 단위로 여러 개의 벡터로 구성되어 있음
   * 2차원으로 행렬과 비슷하나, **다양한 타입**의 데이터로 묶일 수 있음
   * SQL, csv 파일 등에서 데이터를 가져올 때 사용

5.  **리스트** 
   
   * 모든 유형의 객체 집합



---



## 3. 변수 생성 및 출력

### 변수 생성

```R
v1 <- 1:10
v2 = 1:10
1:10 -> v3
```



```R
(v2 <- v1 + 100)
v3 <- v1  * 10; v3
```

- 변수 선언을 괄호 안에 넣으면 print도 함께 수행
- 한 줄에 여러 코드를 넣을 땐, 코드 간  `;` 로 구분



```R
seq(1, 10)
seq(1, 10, 2)  # 1, 3, 5, 7, 9
seq(0, 100, 5)

# seq(1,10)과 같은 결과
seq(1:10)
seq(10)
```

* `seq(from, to, by)` :  마지막 값 `to` 값도 포함
* `by` 아규먼트를 사용할 때에는 `from` 과 `to` 사이를 `:` 로 쓸 수 없음(무조건 `,`)
* `to` 값이 `from` 값보다 작으면 값이 줄어드는 방향으로 반환



```R
# Repeat
rep(1:3, 2)  # 1 2 3 1 2 3
rep(1:3, each=2)  # 1 1 2 2 3 3
```

* `rep(반복할 값, 반복횟수)`
* `rep(반복할 값, each = 각 원소별 반복횟수)`



``` R
LETTERS[-2]
```

* R 에서 마이너스 값은 해당 위치의 값을 제외하고 반환한다는 의미
* 즉, 위 예시 결과는 "B"를 제외한 나머지 영어 대문자 벡터



```R
rev(x)
sort(x, decreasing = T)
```

* 위, 아래 모두 같은 결과 반환. 즉, 벡터를 역순으로 반환
* 실제 해당 변수가 바뀌는 것은 아님(반환값만 역순!)



```R
order(x)
order(x, decreasing = T)
```

* 가장 작은 값 가지고 있는 원소들 순으로 해당 인덱스 값 반환



```R
class(v1)
```

* 해당 변수(벡터)가 어떤 자료형들로 구성되어 있는지 알려줌



```R
names(v1) <- LETTERS[1:10]

v1
# A   B   C   D   E   F   G   H   I   J 
# 101 102 103 104 105 106 107 108 109 110

v1["A"]  
# A
# 101

names(v1)  # "A" "B" "C" "D" "E" "F" "G" "H" "I" "J"
```

* `names(벡터)` : 각각의 벡터에 이름을 지정해준다. (like... Python의 딕셔너리)
* 텍스트 마이닝에서 자주 사용됨

* name 벡터를 삭제하고 싶을 때, NULL 값을 넣어주면 됨

  ```R
  names(v1) <- NULL
  ```



### 생성된 변수 확인

1. 함수

   ```R
   ls()
   ```

2. R Studio GUI → **Environment** 탭



### 변수 삭제

```R
rm(x)
```



---



## 4. 인덱싱

```R
v1 <- c(101:110)
v1[c(2, 4)]   # 102 104
```

* 벡터 v1 에서 2, 4번째 값 반환



```R
v1[c(T, F)]  # 101 103 105 107 109
```

* T, F 반복하면서 T 인 인덱스의 값만 반환



```R
v1 > 105  # FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE
```

* 벡터 내 각각의 원소에 적용된다
* for loop가 필요 없다는 의미!



---



## 5. 논리연산자

```R
v1[v1 > 105 & v1 < 110]  # 106 107 108 109
v1[v1 > 105 | v1 < 110]  # 101 102 103 104 105 106 107 108 109 110
```

*  각각의 원소마다 대괄호 안 수식에 T인 경우만 반환
* `&` 는 AND,  `|` 는 OR



---



## 6. 기본 통계 함수

```R
summary(x)
```

* 최소/최대값, 사분위값, 중위값



---



## 7. 기타 함수

### which

```R
wich(x > 100)
month.name(wich(x > 100))  # 반환된 값에 해당하는 달의 이름 반환
```

* `wich(조건식)` :  조건식을 만족하는 데이터의 **인덱스** 값 반환



```R
v2 <- c(1:10)
which.max(v2)  # 10
which.min(v3)
```

* `which.max(x)` :  which 함수를 이용한 벡터 내 최댓값의 인덱스
* `which.min(x)` :  which 함수를 이용한 벡터 내 최솟값의 인덱스



### paste

```R
paste("I'm", "Duli", "!!")   # "I'm Duli !!"
paste("I'm", "Duli", "!!", sep="")   # "I'mDuli!!"
```

* 아규먼트들을 서로 이어줌
* 반환값은 문자열 자료형
* `sep` :  각각의 아규먼트 간 구분자



```R
fruit <- c("Apple", "Banana", "Strawberry")
food <- c("Pie","Juice", "Cake")

paste(fruit, food)   # "Apple Pie"	"Banana Juice"	"Strawberry Cake"
```

* for 문 필요 없이 같은 인덱스끼리 이어줌



```R
paste(fruit, food, sep="", collapse="-")
	# "ApplePie-BananaJuice-StrawberryCake"
```

* `collapse` :  각각의 원소단위 간 구분자
* `collapse` 값을 콤마`,` 로 설정하면 csv 파일로 저장 시 유용



### sample

```R
sample(1:100, 3)
```

* `sample(from:to, size)` :  `from` 이상 `to` 이하의 범위에서 중복되지 않는 `size`개 값 으로 이뤄진 벡터 반환



---



## 8. 기타

### Document 참조

1. `?`

   ```R
   ?rep
   ```

   

2. `help()`

   ```R
   help(rep)
   ```

   