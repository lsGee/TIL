# R 기초 문법 (2) 행렬, 배열

## 1. 행렬 (Matrix)

### 생성

**1. `matrix()` 사용**

```R
a <- matrix(1:4, nrow=2)
a
#      [,1] [,2]
# [1,]    1    3
# [2,]    2    4
```

* `nrow` 값으로 행 길이 지정하면 열 길이는 자동

* 값이 들어가는 순서는 주의! 아래와 같이 방식 바꿀 수 있다.

  ```R
  a <- matrix(1:4, nrow=2, byrow=T)
  a
  #      [,1] [,2]
  # [1,]    1    2
  # [2,]    3    4
  ```

* 데이터 개수와 행렬 공간 수가 맞지 않으면 경고 메세지와 함께 데이터 반복

  → 마지막 값까지 넣고 다시 첫 번째 값부터 넣는다



**2. `rbind()`,  `cbind()`**

```R
v1 <- c(1,2)
v2 <- c(3,4)
v3 <- c(5,6)
m1 <- rbind(v1, v2, v3)
m2 <- cbind(v1, v2, v3)
m1; m2

# m1
#    [,1] [,2]
# v1    1    2
# v2    3    4
# v3    5    6

# m2
#      v1 v2 v3
# [1,]  1  3  5
# [2,]  2  4  6

```

* `rbind()` :  각 벡터를 행으로 하는 매트릭스 생성
* `cbind()` :  각 벡터를 열로 하는 매트릭스 생성



### 인덱싱

```R
m1[1,]  # 1행만 벡터로 반환
m1[,2]  # 2열만 벡터로 반환
```

* `[행의 인덱싱, 열의 인덱싱]`
* `[행의 인덱싱,]` :  열은 all
* `[,열의 인덱싱]` :  행은 all
* 행/열에 대한 이름(`names`) 값 있는 있는 경우 함께 반환



### 기타 함수

**1. 합계**

```R
sum(x)
rowSums(x)
colSums(x)
```



**2. `summary()`**

```R
summary(m1)
#        V1          V2   
#  Min.   :1   Min.   :2  
#  1st Qu.:2   1st Qu.:3  
#  Median :3   Median :4  
#  Mean   :3   Mean   :4  
#  3rd Qu.:4   3rd Qu.:5  
#  Max.   :5   Max.   :6  
```



**3. `apply()`**

```R
apply(m1, 1, max)
```

* 행/열단위 함수 적용

* `aaply(매트릭스, 범위, 함수)`

  * `범위` :  `1` 은 행단위, `2` 는 열단위, `c(1,2)` 는 원소단위

  * `함수` : 이미 있는 함수 혹은 사용자 정의함수

    ​			→ 일급 함수 개념이 적용되어 있음!!!!





## 2. 배열 (Array)

### 생성

```R
a1 <- array(1:30, dim = c(2, 3, 5))
```

* `array(벡터, dim=c(행, 열, 층))`



### 인덱싱

```R
a[1,,]  # 각 층의 1행
a[,1,1]  # 1층의 1열
a[1,c(2,3),]  # 각 층 1행의 2, 3열
```

